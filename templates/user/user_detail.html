{#<p>{{ user.get_full_name }}</p>#}


{% extends 'base.html' %}
{% load static %}
{% block extr-ahead %}
    <style>
        .pb-full {
            padding-bottom: 100%;
        }

        /* hide search icon on search focus */
        .search-bar:focus + .fa-search {
            display: none;
        }

        @media screen and (min-width: 768px) {
            .post:hover .overlay {
                display: block;
            }
        }

    </style>
{% endblock %}
{% block content %}
    {#    {% if tag %}#}
    {#    <h2>post tagged with {{ tag.name }} </h2>#}
    {##}
    {#{% endif %}#}
    {#    <div class="grid grid-cols-2 ">#}
    {# #}
    {#{% for post in posts %}#}
    {# #}
    {#<div class="p-3 px-6 min-h-48 flex justify-center  " data-post-id="{{ post.id }}" style="cursor: auto;">#}
    {#  <custom-card3>#}
    {#    <div class="rounded-md shadow-md sm:w-96 bg-coolGray-900 text-coolGray-100">#}
    {#      <div class="flex items-center justify-between p-3" style="cursor: auto;">#}
    {#        <div class="flex items-center space-x-2" style="cursor: auto;">#}
    {#          <img src="https://stackdiary.com/140x100.png" alt="" class="object-cover object-center w-8 h-8 rounded-full shadow-sm bg-coolGray-500 border-coolGray-700" style="cursor: auto;">#}
    {#          <div class="-space-y-1" style="cursor: auto;">#}
    {#            <h2 class="text-sm font-semibold leading-none" style="cursor: auto;">External_</h2>#}
    {#            <span class="inline-block text-xs leading-none text-coolGray-400" style="cursor: auto;">New York City</span>#}
    {#          </div>#}
    {#        </div>#}
    {#        <button title="Open options" type="button">#}
    {#          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-5 h-5 fill-current" style="cursor: auto;">#}
    {#            <path d="M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z"></path>#}
    {#            <path d="M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z"></path>#}
    {#            <path d="M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z"></path>#}
    {#          </svg>#}
    {#        </button>#}
    {#      </div>#}
    {#    <a href="{{ post.get_absolute_url }}">#}
    {#    #}
    {#      <img src='{{post.images.first.image_file.url }}' alt="" class="object-cover object-center w-full h-72 bg-coolGray-500" style="cursor: auto;">#}
    {#    </a>#}
    {#      <div class="p-3" style="cursor: auto;">#}
    {#        <div class="flex items-center justify-between" style="cursor: auto;">#}
    {#          <div class="flex items-center space-x-3">#}
    {#            <button type="button" title="Like post" class="flex items-center justify-center">#}
    {##}
    {#                    {% if request.user in post.likes.all %}#}
    {##}
    {#                            <i class="like-button fa fa-heart heart text-red-700 " id="like-button{{ post.id }}"></i>#}
    {#                            #}
    {##}
    {#                        {% else %}#}
    {##}
    {#                            <i class="like-button fa fa-heart-o heart " id="like-button{{ post.id }}" ></i>#}
    {#                            #}
    {#                        {% endif %}#}
    {#            </button>#}
    {#            <button type="button" title="Add a comment" class="flex items-center justify-center">#}
    {#              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-5 h-5 fill-current">#}
    {#                <path d="M496,496H480a273.39,273.39,0,0,1-179.025-66.782l-16.827-14.584C274.814,415.542,265.376,416,256,416c-63.527,0-123.385-20.431-168.548-57.529C41.375,320.623,16,270.025,16,216S41.375,111.377,87.452,73.529C132.615,36.431,192.473,16,256,16S379.385,36.431,424.548,73.529C470.625,111.377,496,161.975,496,216a171.161,171.161,0,0,1-21.077,82.151,201.505,201.505,0,0,1-47.065,57.537,285.22,285.22,0,0,0,63.455,97L496,457.373ZM294.456,381.222l27.477,23.814a241.379,241.379,0,0,0,135,57.86,317.5,317.5,0,0,1-62.617-105.583v0l-4.395-12.463,9.209-7.068C440.963,305.678,464,262.429,464,216c0-92.636-93.309-168-208-168S48,123.364,48,216s93.309,168,208,168a259.114,259.114,0,0,0,31.4-1.913Z"></path>#}
    {#              </svg>#}
    {#            </button>#}
    {#            <button type="button" title="Share post" class="flex items-center justify-center">#}
    {#              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-5 h-5 fill-current">#}
    {#                <path d="M474.444,19.857a20.336,20.336,0,0,0-21.592-2.781L33.737,213.8v38.066l176.037,70.414L322.69,496h38.074l120.3-455.4A20.342,20.342,0,0,0,474.444,19.857ZM337.257,459.693,240.2,310.37,389.553,146.788l-23.631-21.576L215.4,290.069,70.257,232.012,443.7,56.72Z"></path>#}
    {#              </svg>#}
    {#            </button>#}
    {#          </div>#}
    {#          <button type="button" title="Bookmark post" class="flex items-center justify-center">#}
    {#            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-5 h-5 fill-current">#}
    {#              <path d="M424,496H388.75L256.008,381.19,123.467,496H88V16H424ZM120,48V456.667l135.992-117.8L392,456.5V48Z"></path>#}
    {#            </svg>#}
    {#          </button>#}
    {#        </div>#}
    {#        <div class="flex flex-wrap items-center pt-3 pb-1" style="cursor: auto;">#}
    {#          <div class="flex items-center space-x-2">#}
    {#            <div class="flex -space-x-1">#}
    {#              <img alt="" class="w-5 h-5 border rounded-full bg-coolGray-500 border-coolGray-800" src="https://stackdiary.com/140x100.png">#}
    {#              <img alt="" class="w-5 h-5 border rounded-full bg-coolGray-500 border-coolGray-800" src="https://stackdiary.com/140x100.png">#}
    {#              <img alt="" class="w-5 h-5 border rounded-full bg-coolGray-500 border-coolGray-800" src="https://stackdiary.com/140x100.png"><!---->#}
    {#            </div>#}
    {#            <span class="text-sm"> Liked by#}
    {#              <span class="font-semibold"></span> #}
    {#              <span class="font-semibold">{{ post.likes.count }} person</span>#}
    {#            </span>#}
    {#          </div>#}
    {#        </div>#}
    {#        <div class="space-y-3" style="cursor: auto;">#}
    {#          <p class="text-sm" style="cursor: auto;">#}
    {#            <span class="text-base font-semibold">External_</span> {{ post.description|truncatewords:20|linebreaks }}#}
    {#          </p>#}
    {#                {% for tag in post.tags.all %}#}
    {#        <a href="{% url 'social:post_list_by_tag' tag.slug %}" class="bg-cyan-700">{{ tag.name }}</a>#}
    {#    {% endfor %}#}
    {#          <input type="text" placeholder="Add a comment..." class="w-full py-0.5 bg-transparent border-none rounded text-sm pl-0 text-coolGray-100" style="cursor: auto;">#}
    {#            <form method="post" action="{% url 'social:post_comment' post.id %}" >#}
    {#                                                    {% csrf_token %}#}
    {#                                                    {{ form.as_div }}#}
    {#                                                  <div class="col-12">#}
    {#                                                    #}
    {#                                                  </div>#}
    {#                                                </form>#}
    {#        </div>#}
    {#      </div>#}
    {#    </div>#}
    {##}
    {#</div>#}
    {# #}
    {##}
    {##}
    {#{% endfor %}#}
    <!-- nav -->
    {#<nav class="border-b px-4 py-2 bg-white">#}
    {#  <div class="flex flex-wrap items-center justify-between md:justify-around">#}
    {#    <!-- logo -->#}
    {#    <img class="h-10" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/150px-Instagram_logo.svg.png" alt="instagram">#}

    <!-- search-->
    {#    <div class="relative hidden sm:block text-gray-500">#}
    {#      <input class="search-bar max-w-xs border rounded bg-gray-200 px-4#}
    {#            text-center outline-none focus:border-gray-400" type="search" placeholder="Search">#}
    {#      <i class="fa fa-search absolute top-0 left-0 ml-12 mt-1"></i>#}
    {#    </div>#}

    {#    <div class="space-x-4">#}
    {#      <a class="inline-block bg-blue-500 px-2 py-1 text-white font-semibold #}
    {#                           text-sm rounded" href="#">Log In</a>#}
    {#      <a class="inline-block text-blue-500 font-semibold text-sm" href="#">Sign Up</a>#}
    {#    </div>#}
    {#  </div>#}
    {#</nav>#}
    {##}
    {#<main class="bg-gray-100 bg-opacity-25">#}
    {##}
    {#  <div class="lg:w-8/12 lg:mx-auto mb-8">#}
    {##}
    {#    <header class="flex flex-wrap items-center p-4 md:py-8">#}
    {##}
    {#      <div class="md:w-3/12 md:ml-16">#}
    {#        <!-- profile image -->#}
    {#        <img class="w-20 h-20 md:w-40 md:h-40 object-cover rounded-full#}
    {#                     border-2 border-pink-600 p-1" src="https://images.unsplash.com/photo-1502791451862-7bd8c1df43a7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=700&q=80" alt="profile">#}
    {#      </div>#}
    {##}
    {#      <!-- profile meta -->#}
    {#      <div class="w-8/12 md:w-7/12 ml-4">#}
    {#        <div class="md:flex md:flex-wrap md:items-center mb-4">#}
    {#          <h2 class="text-3xl inline-block font-light md:mr-2 mb-2 sm:mb-0">#}
    {#            mrtravlerrr_#}
    {#          </h2>#}
    {##}
    {#          <!-- badge -->#}
    {#          <span class="inline-block fas fa-certificate fa-lg text-blue-500 #}
    {#                               relative mr-6 text-xl transform -translate-y-2" aria-hidden="true">#}
    {#            <i class="fas fa-check text-white text-xs absolute inset-x-0#}
    {#                               ml-1 mt-px"></i>#}
    {#          </span>#}
    {##}
    {#          <!-- follow button -->#}
    {#          <a href="#" class="bg-blue-500 px-2 py-1 #}
    {#                        text-white font-semibold text-sm rounded block text-center #}
    {#                        sm:inline-block block">Follow</a>#}
    {#        </div>#}
    {##}
    {#        <!-- post, following, followers list for medium screens -->#}
    {#        <ul class="hidden md:flex space-x-8 mb-4">#}
    {#          <li>#}
    {#            <span class="font-semibold">136</span>#}
    {#            posts#}
    {#          </li>#}
    {##}
    {#          <li>#}
    {#            <span class="font-semibold">40.5k</span>#}
    {#            followers#}
    {#          </li>#}
    {#          <li>#}
    {#            <span class="font-semibold">302</span>#}
    {#            following#}
    {#          </li>#}
    {#        </ul>#}
    {##}
    {#        <!-- user meta form medium screens -->#}
    {#        <div class="hidden md:block">#}
    {#          <h1 class="font-semibold">Mr Travlerrr...</h1>#}
    {#          <span>Travel, Nature and Music</span>#}
    {#          <p>Lorem ipsum dolor sit amet consectetur</p>#}
    {#        </div>#}
    {##}
    {#      </div>#}
    {##}
    {#      <!-- user meta form small screens -->#}
    {#      <div class="md:hidden text-sm my-2">#}
    {#        <h1 class="font-semibold">Mr Travlerrr...</h1>#}
    {#        <span>Travel, Nature and Music</span>#}
    {#        <p>Lorem ipsum dolor sit amet consectetur</p>#}
    {#      </div>#}
    {##}
    {#    </header>#}
    {##}
    {#    <!-- posts -->#}
    {#    <div class="px-px md:px-3">#}
    {##}
    {#      <!-- user following for mobile only -->#}
    {#      <ul class="flex md:hidden justify-around space-x-8 border-t #}
    {#                text-center p-2 text-gray-600 leading-snug text-sm">#}
    {#        <li>#}
    {#          <span class="font-semibold text-gray-800 block">136</span>#}
    {#          posts#}
    {#        </li>#}
    {##}
    {#        <li>#}
    {#          <span class="font-semibold text-gray-800 block">40.5k</span>#}
    {#          followers#}
    {#        </li>#}
    {#        <li>#}
    {#          <span class="font-semibold text-gray-800 block">302</span>#}
    {#          following#}
    {#        </li>#}
    {#      </ul>#}
    {##}
    {#      <!-- insta freatures -->#}
    {#      <ul class="flex items-center justify-around md:justify-center space-x-12  #}
    {#                    uppercase tracking-widest font-semibold text-xs text-gray-600#}
    {#                    border-t">#}
    {#        <!-- posts tab is active -->#}
    {#        <li class="md:border-t md:border-gray-700 md:-mt-px md:text-gray-700">#}
    {#          <a class="inline-block p-3" href="#">#}
    {#            <i class="fas fa-th-large text-xl md:text-xs"></i>#}
    {#            <span class="hidden md:inline">post</span>#}
    {#          </a>#}
    {#        </li>#}
    {#        <li>#}
    {#          <a class="inline-block p-3" href="#">#}
    {#            <i class="far fa-square text-xl md:text-xs"></i>#}
    {#            <span class="hidden md:inline">igtv</span>#}
    {#          </a>#}
    {#        </li>#}
    {#        <li>#}
    {#          <a class="inline-block p-3" href="#">#}
    {#            <i class="fas fa-user border border-gray-500#}
    {#                             px-1 pt-1 rounded text-xl md:text-xs"></i>#}
    {#            <span class="hidden md:inline">tagged</span>#}
    {#          </a>#}
    {#        </li>#}
    {#      </ul>#}
    {#      <!-- flexbox grid -->#}
    {#      <div class="flex flex-wrap -mx-px md:-mx-3">#}
    {##}
    {#        <!-- column -->#}
    {#        <div class="w-1/3 p-px md:px-3">#}
    {#          <!-- post 1-->#}
    {#          <a href="#">#}
    {#            <article class="post bg-gray-100 text-white relative pb-full md:mb-6">#}
    {#              <!-- post image-->#}
    {#              <img class="w-full h-full absolute left-0 top-0 object-cover" src="https://images.unsplash.com/photo-1502791451862-7bd8c1df43a7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="image">#}
    {##}
    {#              <i class="fas fa-square absolute right-0 top-0 m-1"></i>#}
    {#              <!-- overlay-->#}
    {#              <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute #}
    {#                                left-0 top-0 hidden">#}
    {#                <div class="flex justify-center items-center #}
    {#                                    space-x-4 h-full">#}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-heart"></i>#}
    {#                    412K#}
    {#                  </span>#}
    {##}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-comment"></i>#}
    {#                    2,909#}
    {#                  </span>#}
    {#                </div>#}
    {#              </div>#}
    {##}
    {#            </article>#}
    {#          </a>#}
    {#        </div>#}
    {##}
    {#        <div class="w-1/3 p-px md:px-3">#}
    {#          <a href="#">#}
    {#            <!-- post 2 -->#}
    {#            <article class="post bg-gray-100 text-white relative pb-full md:mb-6">#}
    {#              <img class="w-full h-full absolute left-0 top-0 object-cover" src="https://images.unsplash.com/photo-1498409570040-05bf6d3dd5b5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="image">#}
    {##}
    {#              <!-- overlay-->#}
    {#              <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute #}
    {#                                left-0 top-0 hidden">#}
    {#                <div class="flex justify-center items-center #}
    {#                                    space-x-4 h-full">#}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-heart"></i>#}
    {#                    412K#}
    {#                  </span>#}
    {##}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-comment"></i>#}
    {#                    1,993#}
    {#                  </span>#}
    {#                </div>#}
    {#              </div>#}
    {##}
    {#            </article>#}
    {#          </a>#}
    {#        </div>#}
    {##}
    {#        <div class="w-1/3 p-px md:px-3">#}
    {#          <a href="#">#}
    {#            <article class="post bg-gray-100 text-white relative pb-full  md:mb-6">#}
    {#              <img class="w-full h-full absolute left-0 top-0 object-cover" src="https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="image">#}
    {#              <!-- overlay-->#}
    {#              <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute #}
    {#                                left-0 top-0 hidden">#}
    {#                <div class="flex justify-center items-center #}
    {#                                    space-x-4 h-full">#}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-heart"></i>#}
    {#                    112K#}
    {#                  </span>#}
    {##}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-comment"></i>#}
    {#                    2,090#}
    {#                  </span>#}
    {#                </div>#}
    {#              </div>#}
    {#            </article>#}
    {#          </a>#}
    {#        </div>#}
    {##}
    {#        <div class="w-1/3 p-px md:px-3">#}
    {#          <a href="#">#}
    {#            <article class="post bg-gray-100 text-white relative pb-full md:mb-6">#}
    {#              <img class="w-full h-full absolute left-0 top-0 object-cover" src="https://images.unsplash.com/photo-1533105079780-92b9be482077?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="image">#}
    {##}
    {#              <i class="fas fa-video absolute right-0 top-0 m-1"></i>#}
    {##}
    {#              <!-- overlay-->#}
    {#              <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute #}
    {#                                left-0 top-0 hidden">#}
    {#                <div class="flex justify-center items-center #}
    {#                                    space-x-4 h-full">#}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-heart"></i>#}
    {#                    841K#}
    {#                  </span>#}
    {##}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-comment"></i>#}
    {#                    909#}
    {#                  </span>#}
    {#                </div>#}
    {#              </div>#}
    {##}
    {#            </article>#}
    {#          </a>#}
    {#        </div>#}
    {##}
    {#        <div class="w-1/3 p-px md:px-3">#}
    {#          <a href="#">#}
    {#            <article class="post bg-gray-100 text-white relative pb-full md:mb-6">#}
    {#              <img class="w-full h-full absolute left-0 top-0 object-cover" src="https://images.unsplash.com/photo-1475688621402-4257c812d6db?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80" alt="image">#}
    {#              <!-- overlay-->#}
    {#              <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute #}
    {#                                left-0 top-0 hidden">#}
    {#                <div class="flex justify-center items-center #}
    {#                                    space-x-4 h-full">#}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-heart"></i>#}
    {#                    120K#}
    {#                  </span>#}
    {##}
    {#                  <span class="p-2">#}
    {#                    <i class="fas fa-comment"></i>#}
    {#                    3,909#}
    {#                  </span>#}
    {#                </div>#}
    {#              </div>#}
    {##}
    {#            </article>#}
    {#          </a>#}
    {#        </div>#}
    {##}
    {#      </div>#}
    {#    </div>#}
    {#  </div>#}
    {#</main>#}
    <!-- component -->
    <!-- This is an example component -->

    {#	<div class='flex space-x-2 w-full bg-white shadow-md rounded-lg overflow-hidden mx-auto'>#}
{#    {% with user=request.user %}#}
    <div
            class="card  min-w-sm border border-white bg-transparent   transition-shadow shadow-xl hover:shadow-xl min-w-max w-full">
    <!---->
    <div class="w-full card__media"><img
            src="https://image.freepik.com/free-vector/abstract-binary-code-techno-background_1048-12836.jpg"
            class="h-48 w-full"></div>
    <div class="  card__media--aside "></div>
    <div class="flex items-center p-4">
    <div class="relative flex flex-col items-center w-full">
        <div
                class="h-24 w-24 md rounded-full relative avatar flex items-end justify-end text-purple-600 min-w-max absolute -top-16 flex bg-purple-200 text-purple-100 row-start-1 row-end-3 text-purple-650 ring-1 ring-white">
{#            <img class="h-24 w-24 md rounded-full relative" src="{{ request.user.photo.url }}"#}
{#                 alt="">#}
             {% if user.photo %}
		 <img class="h-24 w-24 md rounded-full relative" src="{{ user.photo.url }}"
                 alt="">
        {% else %}
        <img src="{% static 'image/profile/avatar.png' %}" alt="" class="h-24 w-24 md rounded-full relative">
            
        {% endif %}
            <div class="absolute"></div>
        </div>
        <div class="flex flex-col space-y-1 justify-center items-center -mt-12 w-full">
            <span class="text-md whitespace-nowrap text-gray-800 font-semibold">{{ user.username }}</span><span
                class="text-md whitespace-nowrap text-gray-600">{{ user.get_full_name }}</span>
            <p class="text-sm text-gray-500">
                {{ user.bio }}
            </p>
            <div class="py-2 flex space-x-2">
                <button class="flex justify-center  max-h-max whitespace-nowrap focus:outline-none  focus:ring  focus:border-blue-300 rounded max-w-max border bg-transparent border-purple-700 text-purple-700 hover:border-purple-800 hover:border-purple-800 px-4 py-1 flex items-center hover:shadow-lg">
                   {% if request.user in user.followers.all %} 
                    <span class="mr-2" id="follow_button">UNFOLLOW</span>
                    {% else %}
                    <span class="mr-2" id="follow_button">FOLLOW</span>
                       
                    {% endif %}
                </button>
                {#                                <button class="flex justify-center  max-h-max whitespace-nowrap focus:outline-none  focus:ring  focus:border-blue-300 rounded max-w-max text-gray-100 bg-green-500 hover:bg-green-600 px-4 py-1 flex items-center hover:shadow-lg"><span class="mr-2"><svg height="20" width="20" viewBox="0 0 32 32" class="fill-current text-red-100"><path d="M22.5,4c-2,0-3.9,0.8-5.3,2.2L16,7.4l-1.1-1.1C12,3.3,7.2,3.3,4.3,6.2c0,0-0.1,0.1-0.1,0.1c-3,3-3,7.8,0,10.8L16,29	l11.8-11.9c3-3,3-7.8,0-10.8C26.4,4.8,24.5,4,22.5,4z"></path></svg></span>SPONSOR <span class="ml-2"></span></button>#}
            </div>
            <div
                    class="py-4 flex justify-center items-center w-full divide-x divide-gray-400 divide-solid">
                <span class="text-center px-2"><span class="font-bold text-gray-700 follower-count">{{ user.followers.count }}</span><span
                        class="text-gray-600"> followers</span></span><span class="text-center px-2 "><span
                    class="font-bold text-gray-700 following-count">{{ user.following.count }}</span><span class="text-gray-600"> following</span></span><span
                    class="text-center px-2"><span class="font-bold text-gray-700">{{ user.user_posts.count}}</span><span class="text-gray-600"> post</span></span>
            </div>
        </div>
        <div class="flex flex-wrap w-full">
            {% for post in user.user_posts.all %}
            <div class="w-1/3 p-px md:px-3">
                <a href="{{ post.get_absolute_url }}">
                    <article class="post bg-gray-100 text-white relative pb-full md:mb-6">
                        <img class="w-full h-full absolute left-0 top-0 object-cover"
                             src="{{post.images.first.image_file.url }}"
                             alt="image">

                        <i class="fas fa-video absolute right-0 top-0 m-1"></i>

                        <!-- overlay-->
                        <div class="overlay bg-gray-800 bg-opacity-25 w-full h-full absolute 
                                                left-0 top-0 hidden">
                            <div class="flex justify-center items-center 
                                                    space-x-4 h-full">
                                  <span class="p-2">
                                    <i class="fa fa-heart-o" style="font-size:20px"></i>
                                    {{ post.likes.count }}
                                  </span>

                                <span class="p-2">
                                    <i class="fa fa-comment-o" style="font-size:24px"></i>
                                    {{ post.comments.count }}
                                  </span>
                            </div>
                        </div>

                    </article>
                </a>
            </div>
                {% endfor %}
        </div>



    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>

    
 $(document).ready(function() {
    $('#follow_button').click(function() {
        var  button = $(this);

        $.ajax({
            type: 'POST',
            url: '{% url 'social:user_follow' %}',
            data: {'user_id': '{{user.id}}', 'csrfmiddlewaretoken': '{{ csrf_token }}'},
            success: function(data) {
                if (data.follow){
                    
                    button.text('UNFOLLOW')
                    
                    
                } else {
                    button.text('FOLLOW')
                    
                    
                    
                }
                
                $('.follower-count').text(data.followers_count );
                $('.following-count').text(data.following_count )
            },
        });
    });

});
</script>
{% endblock %}
